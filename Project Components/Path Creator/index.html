<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link rel="stylesheet" type="text/css" href="../../Project_Folder/Input_Page/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../Project_Folder/Input_Page/style/home_style.css"/>
    
        <!--Custom stylesheet-->
        <!--Include in main stylesheet when the component is merged into the main project-->
    
        <style>
            .PathCreator {
                
            }

            #PathCreator {
                 
            }

            .map {
                overflow: hidden;
                position: relative;
            }

            .draggable {
                
            }

            #draggable {
                
            }
        </style>

        <title>Path Creator</title>
    </head>
    <body>
        <script>
            function DisplayMap(mapLoc) {
                
                //document.getElementById("PathCreator").innerHTML = '<center><iframe class="map" src="' + mapLoc + '" seamless><p>Your browser does not support iframes. <br/>Please Change To a More Enlightened Browser.</p></iframe></center>';
            }

            // Make sure it always starts @ zero position for below calcs to work
            $("#my-image").css({ top: 0, left: 0 });

            var maskWidth = $("#my-mask").width();
            var maskHeight = $("#my-mask").height();
            var imgPos = $("#my-image").offset();
            var imgWidth = $("#my-image").width();
            var imgHeight = $("#my-image").height();

            var x1 = (imgPos.left + maskWidth) - imgWidth;
            var y1 = (imgPos.top + maskHeight) - imgHeight;
            var x2 = imgPos.left;
            var y2 = imgPos.top;

            $("#my-image").draggable({ containment: [x1, y1, x2, y2] });
            $("#my-image").css({ cursor: 'move' });

            $(this).draggable({
                drag: function (event, ui) {
                    if (ui.position.top > 0) {
                        ui.position.top = 0;
                    }
                    var maxtop = ui.helper.parent().height() - ui.helper.height();
                    if (ui.position.top < maxtop) {
                        ui.position.top = maxtop;
                    }
                    if (ui.position.left > 0) {
                        ui.position.left = 0;
                    }
                    var maxleft = ui.helper.parent().width() - ui.helper.width();
                    if (ui.position.left < maxleft) {
                        ui.position.left = maxleft;
                    }
                }
            });


            
        </script>
        <!-- perhaps use javascript html5 canvas tags to draw image -->
        <div class="PathCreator">
            <div id="PathCreator">
                <script>
                    DisplayMap("map.jpg");
                </script>
            </div> 
        </div>
        <div>
        <div id="my-mask" style="width: 200px; height: 200px; overflow: hidden;">
           <img id="my-image" src="map.jpg" width="1000" height="1000"/>
        </div>
        </div>
        
        <!-- JavaScript -->
        
        <script type="text/javascript" src ="../../Project_Folder/Input_Page/scripts/plugins/jquery.min.js"></script>
        <script type="text/javascript" src ="../../Project_Folder/Input_Page/scripts/plugins/jquery-ui.min.js"></script>
        <script type="text/javascript" src="../../Project_Folder/Input_Page/bootstrap/js/bootstrap.min.js"></script>
        
        <!-- Custom javascript-->
        <!--When complete all javascript will happen on a specific action, since it will be connected to everything else. The parts which call functions must
            be replaced by action events calling those functions-->

    </body>
</html>
